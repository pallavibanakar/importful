<div class="container my-5">
  <h2 class="text-center mb-4">Notifications</h2>

  <div class="list-group">
    <% @notifications.each do |notification| %>
      <div class="list-group-item my-2 d-flex justify-content-between align-items-center <%= 'bg-light' if notification.read_at.present? %>">
        <div>
          <h5 class="mb-1"><%= notification.title %></h5>
          <p class="mb-1"><%= notification.message %></p>
          <small class="text-muted">
            <%= time_ago_in_words(notification.created_at) %> ago
          </small>
        </div>

        <% if notification.errors_file.attached? %>
          <div>
            <%= link_to "Download", rails_blob_path(notification.errors_file, disposition: "attachment"), class: "btn btn-sm btn-primary" %>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>

  <% if @notifications.empty? %>
    <div class="alert alert-info mt-3">You have no notifications.</div>
  <% end %>
</div>
